@inject IJSRuntime JS
<div>
    <table id="@id" class="table" style="width:100%" @attributes=UserAttributes>
        @ChildContent
    </table>
</div>

@code {
    [Parameter]
    public bool Searchable { get; set; }
 
    [Parameter]
    public RenderFragment ChildContent { get; set; }
 
    [Parameter]
    public string id { get; set; } = "DataTable-" + Guid.NewGuid().ToString();

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> UserAttributes { get; set; }

    protected override void OnParametersSet()
    {
        StateHasChanged();
    }

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        await JS.InvokeAsync<string>("AddDataTable", new object[] { $"#{id}", Searchable });
        await base.OnAfterRenderAsync(firstRender);
    }
}